# Reglas del Proyecto Ondeon Music Generator

## ğŸ¯ Objetivo del Proyecto
AplicaciÃ³n de generaciÃ³n de mÃºsica con IA usando SunoAPI, Next.js, React, TypeScript, Supabase y OpenAI DALL-E 3.

## ğŸš« PROHIBIDO - Acciones Agresivas

### NO crear archivos nuevos sin confirmaciÃ³n explÃ­cita del usuario
- âŒ NO crear nuevos componentes, pÃ¡ginas, o mÃ³dulos sin pedirlo
- âŒ NO crear nuevos archivos de configuraciÃ³n
- âŒ NO crear nuevos scripts o utilidades
- âš ï¸ Si es absolutamente necesario, PREGUNTAR PRIMERO al usuario

### NO eliminar archivos sin confirmaciÃ³n explÃ­cita
- âŒ NO eliminar componentes existentes
- âŒ NO eliminar archivos de configuraciÃ³n
- âŒ NO eliminar scripts o utilidades
- âš ï¸ Si es necesario, PREGUNTAR PRIMERO al usuario

### NO hacer cambios masivos sin confirmaciÃ³n
- âŒ NO refactorizar mÃºltiples archivos a la vez
- âŒ NO cambiar nombres de archivos o mover archivos
- âŒ NO reorganizar la estructura del proyecto
- âš ï¸ Hacer cambios INCREMENTALES y PEQUEÃ‘OS

## âœ… PERMITIDO - Modificaciones Controladas

### Modificar archivos existentes (con cuidado)
- âœ… Corregir bugs en archivos existentes
- âœ… AÃ±adir funcionalidades pequeÃ±as a componentes existentes
- âœ… Ajustar estilos y UI
- âœ… Optimizar cÃ³digo existente

### Antes de modificar, SIEMPRE:
1. ğŸ“– Leer el archivo completo primero
2. ğŸ¯ Identificar el cambio mÃ­nimo necesario
3. ğŸ” Verificar que no afecta otras partes
4. âœï¸ Hacer solo el cambio necesario

## ğŸ› ï¸ Flujo de Trabajo Recomendado

### Para bugs o ajustes:
1. Identificar el archivo afectado
2. Leer el contexto
3. Hacer el cambio mÃ­nimo necesario
4. Verificar que no rompe nada

### Para nuevas features:
1. **PREGUNTAR** al usuario si quiere crear nuevos archivos
2. **PROPONER** la soluciÃ³n (sin implementar)
3. **ESPERAR** confirmaciÃ³n
4. Solo entonces implementar

## ğŸ“ ComunicaciÃ³n con el Usuario

### SIEMPRE comunicar:
- ğŸ”§ "Voy a modificar el archivo X para corregir Y"
- â“ "Â¿Quieres que cree un nuevo archivo para Z?"
- âš ï¸ "Este cambio puede afectar A, B, C. Â¿Procedo?"

### NUNCA asumir:
- âŒ "El usuario quiere que reorganice todo"
- âŒ "DeberÃ­a crear un nuevo componente"
- âŒ "Voy a eliminar este archivo antiguo"

## ğŸ¨ EstÃ¡ndares del Proyecto

### Stack TecnolÃ³gico (NO cambiar):
- Next.js 14 con App Router
- React con TypeScript
- Supabase (Auth + Database + Storage)
- SunoAPI para generaciÃ³n de mÃºsica
- OpenAI DALL-E 3 para covers
- Tailwind CSS para estilos

### Estructura (NO reorganizar):
```
app/              # Next.js pages
components/       # React components
lib/              # Utilities
scripts/          # SQL y otros scripts
public/           # Assets estÃ¡ticos
```

### Convenciones de cÃ³digo:
- Usar TypeScript siempre
- Componentes en PascalCase
- Archivos de componentes con extensiÃ³n .tsx
- Usar Tailwind para estilos (no crear nuevos CSS)
- EspaÃ±ol en UI, inglÃ©s en cÃ³digo

## ğŸ”’ Archivos CrÃ­ticos (Extra cuidado)

### NO modificar sin confirmaciÃ³n explÃ­cita:
- `.env.local` - Variables de entorno sensibles
- `package.json` - Dependencias
- `next.config.js` - ConfiguraciÃ³n de Next.js
- `tsconfig.json` - ConfiguraciÃ³n de TypeScript
- `tailwind.config.js` - ConfiguraciÃ³n de Tailwind

### Modificar con mucho cuidado:
- `app/page.tsx` - PÃ¡gina principal
- `lib/supabase.ts` - Cliente de Supabase
- Archivos de API routes en `app/api/`

## ğŸ’¾ Base de Datos

### NO hacer cambios de schema sin SQL explÃ­cito:
- âŒ NO asumir que una tabla existe
- âŒ NO asumir que una columna existe
- âœ… Proponer script SQL y esperar confirmaciÃ³n
- âœ… Crear scripts en `/scripts/` para migraciones

## ğŸµ Reglas EspecÃ­ficas del Proyecto

### GeneraciÃ³n de MÃºsica:
- Siempre guardar en Supabase Storage (permanente)
- Generar covers con DALL-E 3 en segundo plano
- No bloquear la generaciÃ³n por el cover
- Logs en tiempo real en el modal

### Reproductor:
- Comportamiento tipo Spotify
- Scroll automÃ¡tico en la cola
- Persistir pestaÃ±a activa en localStorage
- Play/Pause sin reiniciar

### Biblioteca:
- PaginaciÃ³n de 20 items
- Lazy loading de imÃ¡genes
- Vistas: grid y list
- Filtros por gÃ©nero, idioma, favoritos, sin cover

## âš ï¸ Recordatorios

1. **MENOS ES MÃS**: Cambios pequeÃ±os e incrementales
2. **PREGUNTAR PRIMERO**: Si hay duda, preguntar
3. **NO ASUMIR**: El usuario sabe lo que quiere
4. **LEER ANTES DE MODIFICAR**: Entender el cÃ³digo existente
5. **NO CREAR BACKUPS**: El usuario no los quiere
6. **NO ROMPER LO QUE FUNCIONA**: Si funciona, no lo toques

## ğŸš€ Prioridades

1. ğŸ› Corregir bugs
2. ğŸ¨ Mejorar UX
3. âš¡ Optimizar performance
4. âœ¨ AÃ±adir features (solo si se pide explÃ­citamente)

---

**Resumen**: Ser conservador, modificar solo lo necesario, preguntar antes de crear/eliminar, cambios incrementales.







